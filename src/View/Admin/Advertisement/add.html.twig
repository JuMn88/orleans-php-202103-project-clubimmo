{% extends 'layout.html.twig' %}

{% block stylesheet %}
<link rel="stylesheet" href="/assets/css/admin_advertisement.css">
{% endblock %}

{% block content %}
    <main class="container">
        <h2 class="mt-5 pb-2 text-center">
            Ajout d'une annonce
        </h2>
        <ul class="alert alert-danger list-unstyled empty">
            {%- for error in errors -%}
                <li>{{ error }}</li>
            {%- endfor -%}
        </ul>
        <form method="POST" class="mb-5" novalidate>
            <div class="mb-3">
                <label for="reference" class="form-label">Référence</label>
                <input type="text" readonly class="form-control" id="reference" 
                    name="reference" placeholder="Généré automatiquement" value="{{ advertisement.reference }}">
            </div>
            <div class="mb-3">
                <label for="surface" class="form-label">Surface en mètres carrés</label>
                <input type="text" class="form-control" id="surface" 
                    name="surface" placeholder="0" value="{{ advertisement.surface }}" required>
            </div>
            <div class="mb-3">
                <label for="price" class="form-label">Prix</label>
                <input type="text" class="form-control" id="price" 
                    name="price" placeholder="0" value="{{ advertisement.price }}" required>
            </div>
            <div class="mb-3">
                <label for="propertyType" class="form-label">Type de propriété</label>
                <select class="form-control" id="propertyType" name="propertyType" required>
                    {% for propertyType in propertyTypes %}
                        <option
                            {% if advertisement.propertyType == propertyType %}
                                selected
                            {% endif %}
                            value="{{ propertyType }}"
                        >
                            {{ propertyType }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label for="transaction" class="form-label">Type de transaction</label>
                <select class="form-control" id="transaction" name="transaction" required>
                    {% for transactionType in transactionTypes %}
                        <option
                            {% if advertisement.transaction == transactionType %}
                                selected
                            {% endif %}
                            value="{{ transactionType }}"
                        >
                            {{ transactionType }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label for="city" class="form-label">Ville</label>
                <input type="text" class="form-control" id="city" 
                    name="city" placeholder="Orléans" value="{{ advertisement.city }}" required>
            </div>
            <div class="mb-3">
                <label for="sector" class="form-label">Secteur</label>
                <input type="text" class="form-control" id="sector" 
                    name="sector" placeholder="Centre" value="{{ advertisement.sector }}" required>
            </div>
            <div class="mb-3">
                <label for="rooms" class="form-label">Nombre de pièces</label>
                <input type="text" class="form-control" id="rooms" 
                    name="rooms" placeholder="0" value="{{ advertisement.rooms }}" required>
            </div>
            <div class="mb-3">
                <label for="bedrooms" class="form-label">Nombre de chambres</label>
                <input type="text" class="form-control" id="bedrooms" 
                    name="bedrooms" placeholder="0" value="{{ advertisement.bedrooms }}" required>
            </div>
            <div class="mb-3">
                <label for="energyPerformance" class="form-label">Performances énergétiques</label>
                <select class="form-control" id="energyPerformance" name="energyPerformance" required>
                    {% for grade in diagnosticGrades %}
                        <option
                            {% if advertisement.energyPerformance == grade %}
                                selected
                            {% endif %}
                            value="{{ grade }}"
                        >
                            {{ grade }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label for="greenhouseGases" class="form-label">GES</label>
                <select class="form-control" id="greenhouseGases" name="greenhouseGases" required>
                    {% for grade in diagnosticGrades %}
                        <option
                            {% if advertisement.greenhouseGases == grade %}
                                selected
                            {% endif %}
                            value="{{ grade }}"
                        >
                            {{ grade }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <button class="btn btn-purple">Ajouter</button>
            <a class="mx-2 btn btn-lightpurple" href="/adminAdvertisement/index">Retour</a>
        </form>
    </main>
{% endblock %}